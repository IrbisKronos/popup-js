<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <style>
        .banner_form {
            display: flex;
            flex-direction: column;
            width: 300px;
        }

        .form_field {
            padding: 10px;
        }
    </style>
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link rel="stylesheet" href="form.css">
</head>
<style>
    .test_container {
        display: flex;
        height: 100%;
    }

    .test_container > div {
        width: 50%;
        height: 100%;
    }

    .iframe_container {

    }

    iframe {
        position: absolute;
        height: 100% !important;
    }

    .iframe_root {
        width: 50%;
    }

    .iframe_popup {
        width: 50%;
    }
</style>

<body>

<div class="test_container">

    <div>
        <form class="banner_setting_form" id="banner_setting_form">
            <div class="container">
                <div class="components accordion">
                    <div class="accordion__block">
                        <div class="accordion__title" data-accordion_item_id="popup_banner">
                            <p>Спливаючий банер</p>
                        </div>
                        <div class="accordion__content invisible" data-accordion_item_id="popup_banner">
                            <div class="collapse">
                                <div class="collapse__panel">
                                    <div class="collapse__block animate__animated" data-collapse_item_id="title">
                                        <div class="collapse__icon">
                                            <span class="material-symbols-outlined">title</span>
                                        </div>
                                        <div class="collapse__title">
                                            Заголовок
                                        </div>
                                    </div>

                                    <div class="collapse__block animate__animated" data-collapse_item_id="text">
                                        <div class="collapse__icon">
                                            <span class="material-symbols-outlined">description</span>
                                        </div>
                                        <div class="collapse__title">
                                            Головний текст
                                        </div>
                                    </div>

                                    <div class="collapse__block animate__animated" data-collapse_item_id="button">
                                        <div class="collapse__icon">
                                            <span class="material-symbols-outlined">magic_button</span>
                                        </div>
                                        <div class="collapse__title">
                                            Кнопка
                                        </div>
                                    </div>

                                    <div class="collapse__block animate__animated" data-collapse_item_id="timer">
                                        <div class="collapse__icon">
                                            <span class="material-symbols-outlined">timer</span>
                                        </div>
                                        <div class="collapse__title">
                                            Таймер
                                        </div>
                                    </div>
                                </div>

                                <div class="collapse__content">
                                    <div class="collapse__item invisible" data-collapse_item_id="title">
                                        <div class="form__title">
                                            <label for="title__input" class="title__label">
                                                <p>Заголовок</p>
                                            </label>
                                            <input type="text"
                                                   name="title"
                                                   class="title__input"
                                                   id="title__input"
                                                   placeholder="Введіть текст заголовка..."
                                            >
                                        </div>
                                        <div class="select__block">
                                            <label for="select__item" class="select__label">
                                                <p>Виберіть розмір заголовка:</p>
                                            </label>
                                            <select class="select__item" name="title_size" id="select__item">
                                                <option value="h2" selected>Великий</option>
                                                <option value="h3">Більше середнього</option>
                                                <option value="h4">Середній</option>
                                                <option value="h5">Менше середнього</option>
                                                <option value="h6">Малий</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="collapse__item invisible" data-collapse_item_id="text">
                                        <div class="textarea">
                                            <label for="body__textarea" class="body__label"><p>Опис</p></label>
                                            <textarea id="body__textarea"
                                                      class="body__textarea"
                                                      name="text"
                                                      placeholder="Введіть зміст банера..."></textarea>
                                        </div>
                                        <div class="segmented-control">

                                            <input type="radio" name="align_text" value="left" id="header__left" checked/>
                                            <label for="header__left" class="segmented-control__1">
                                                <span class="material-symbols-outlined">format_align_left</span>
                                            </label>

                                            <input type="radio" name="align_text" value="center" id="header__center"/>
                                            <label for="header__center" class="segmented-control__2">
                                                <span class="material-symbols-outlined">format_align_center</span>
                                            </label>

                                            <input type="radio" name="align_text" value="right" id="header__right"/>
                                            <label for="header__right" class="segmented-control__3">
                                                <span class="material-symbols-outlined">format_align_right</span>
                                            </label>

                                            <input type="radio" name="align_text" value="justify" id="header__justify"/>
                                            <label for="header__justify" class="segmented-control__4">
                                                <span class="material-symbols-outlined">format_align_justify</span>
                                            </label>

                                            <div class="segmented-control__color"></div>
                                        </div>

                                    </div>
                                    <div class="collapse__item invisible" data-collapse_item_id="button">
                                        <div class="form__button">
                                            <label for="button__input" class="button__label">
                                                <p>Кнопка переходу</p>
                                            </label>
                                            <input type="text"
                                                   class="button__input"
                                                   name="button_name"
                                                   id="button__input"
                                                   placeholder="Введіть назву кнопки..."
                                            >
                                        </div>
                                        <div class="form__link">
                                            <label for="link__input" class="link__label">
                                                <p>Посилання кнопки</p>
                                            </label>
                                            <input type="url"
                                                   class="link__input"
                                                   name="button_link"
                                                   id="link__input"
                                                   placeholder="Вставте чи введіть URL">
                                        </div>
                                    </div>
                                    <div class="collapse__item invisible" data-collapse_item_id="timer">
                                        <div class="form__timeout">
                                            <label for="timeout__input" class="timeout__label">
                                                <p>Таймер вспливання банера</p>
                                            </label>
                                            <input type="text"
                                                   class="timeout__input"
                                                   name="timeout"
                                                   id="timeout__input"
                                                   placeholder="Введіть, через скільки сек."
                                            >
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="accordion__block">
                        <div class="accordion__title" data-accordion_item_id="label_2">
                            <p>Accordion content 2</p>
                        </div>
                        <div class="accordion__content invisible" data-accordion_item_id="label_2">
                            <p>Accordion content 2</p>
                        </div>
                    </div>

                    <div class="accordion__block">
                        <div class="accordion__title" data-accordion_item_id="label_3">
                            <p>Accordion content 3</p>
                        </div>
                        <div class="accordion__content invisible" data-accordion_item_id="label_3">
                            <p>Accordion content 3</p>
                        </div>
                    </div>

                    <div class="accordion__block">
                        <div class="accordion__title" data-accordion_item_id="label_4">
                            <p>Accordion content 4</p>
                        </div>
                        <div class="accordion__content invisible" data-accordion_item_id="label_4">
                            <p>Accordion content 4</p>
                        </div>
                    </div>

                    <div class="accordion__block">
                        <div class="accordion__title" data-accordion_item_id="label_5">
                            <p>Accordion content 5</p>
                        </div>
                        <div class="accordion__content invisible" data-accordion_item_id="label_5">
                            <p>Accordion content 5</p>
                        </div>
                    </div>



                    <div class="submit__block">
                        <button type="submit" class="submit__button">
                            <p>Зберегти</p>
                        </button>
                    </div>

                </div>
            </div>
        </form>
    </div>

    <div class="iframe_container">
        <div style="position: fixed; width:100%; height: 100%">
            <iframe src="https://alerts.in.ua/" class="iframe_root"></iframe>
            <!--        <iframe src="index.html" class="iframe_popup"></iframe>-->
            <iframe src="/popup/index.html" class="iframe_popup"></iframe>
            <!-- <iframe srcdoc="<script src='https://artem.bobmv.art/popup.js'></script>" allow="fullscreen"></iframe>-->
        </div>
    </div>
</div>

<script>
    /* Відправка налаштувань з форми */
    let bannerForm = document.getElementById('banner_setting_form');

    bannerForm.onsubmit = (e) => {
        e.preventDefault()
        fetch('save_form.php', {method: 'post', body: new FormData(bannerForm)}).then((response) => {
            console.log(response)
            location.reload()
        })
    }

    /* Схлопування коллапсів */
    document.addEventListener('DOMContentLoaded', event => {
        document.querySelectorAll('.collapse__block').forEach(collapse__block => {
            collapse__block.addEventListener('click', event => {
                console.log('event: ' + event);
                let collapse_item_id = event.currentTarget.dataset.collapse_item_id;
                let collapse_content_item = document.querySelector('.collapse__item[data-collapse_item_id="' + collapse_item_id + '"]');
                collapse__block.classList.toggle('active');
                collapse__block.classList.toggle('animate__headShake');
                collapse_content_item.classList.toggle('invisible');
            })
        })

        /* Схлопування акордіонів */
        document.querySelectorAll('.accordion__title').forEach(accordion__title => {
            accordion__title.addEventListener('click', event => {
                let accordion_item_id = event.currentTarget.dataset.accordion_item_id;
                let accordion_content_item = document.querySelector('.accordion__content[data-accordion_item_id="' + accordion_item_id + '"]');
                accordion__title.classList.toggle('active');
                accordion_content_item.classList.toggle('invisible');
            })
        })
    });

</script>
</body>
</html>