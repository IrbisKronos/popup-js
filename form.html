<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <style>
        .banner_form {
            display: flex;
            flex-direction: column;
            width: 300px;
        }

        .form_field {
            padding: 10px;
        }
    </style>
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link rel="stylesheet" href="form.css">
</head>
<style>
    .test_container {
        display: flex;
        height: 100%;
    }

    .test_container > div {
        width: 50%;
        height: 100%;
    }

    .iframe_container {

    }

    iframe {
        position: absolute;
        height: 100% !important;
    }

    .iframe_root {
        width: 50%;
    }

    .iframe_popup {
        width: 50%;
    }
</style>

<body>

<div class="test_container">
    <div>
        <form class="banner_setting_form" id="banner_setting_form">
            <div class="container">
                <div class="components accordion">

                    <div class="accordion__block">
                        <div class="accordion__title animate__animated" data-accordion_item_id="popup_banner">
                            <div class="accordion__icon">
                                <span class="material-symbols-outlined">post_add</span>
                            </div>
                            <p>Спливаючий банер</p>
                        </div>
                        <div class="accordion__content invisible" data-accordion_item_id="popup_banner">
                            <div class="collapse">
                                <div class="collapse__panel">
                                    <div class="collapse__block animate__animated" data-collapse_item_id="title">
                                        <div class="collapse__icon">
                                            <span class="material-symbols-outlined">title</span>
                                        </div>
                                        <div class="collapse__title">
                                            Заголовок
                                        </div>
                                    </div>
                                    <div class="collapse__block animate__animated" data-collapse_item_id="text">
                                        <div class="collapse__icon">
                                            <span class="material-symbols-outlined">description</span>
                                        </div>
                                        <div class="collapse__title">
                                            Головний текст
                                        </div>
                                    </div>
                                    <div class="collapse__block animate__animated" data-collapse_item_id="button">
                                        <div class="collapse__icon">
                                            <span class="material-symbols-outlined">magic_button</span>
                                        </div>
                                        <div class="collapse__title">
                                            Кнопка
                                        </div>
                                    </div>
                                    <div class="collapse__block animate__animated" data-collapse_item_id="timer">
                                        <div class="collapse__icon">
                                            <span class="material-symbols-outlined">timer</span>
                                        </div>
                                        <div class="collapse__title">
                                            Таймер
                                        </div>
                                    </div>
                                    <div class="collapse__block animate__animated" data-collapse_item_id="animation">
                                        <div class="collapse__icon">
                                            <span class="material-symbols-outlined">animation</span>
                                        </div>
                                        <div class="collapse__title">
                                            Анімація
                                        </div>
                                    </div>
                                    <div class="collapse__block animate__animated" data-collapse_item_id="bg_color">
                                        <div class="collapse__icon">
                                            <span class="material-symbols-outlined">color_lens</span>
                                        </div>
                                        <div class="collapse__title">
                                            Колір фону
                                        </div>
                                    </div>
                                    <div class="collapse__block animate__animated" data-collapse_item_id="image">
                                        <div class="collapse__icon">
                                            <span class="material-symbols-outlined">image</span>
                                        </div>
                                        <div class="collapse__title">
                                            Зображення
                                        </div>
                                    </div>
                                </div>
                                <div class="collapse__content">
                                    <div class="collapse__item invisible" data-collapse_item_id="title">
                                        <div class="form__title">
                                            <label for="title__input" class="title__label">
                                                <p>Заголовок</p>
                                            </label>
                                            <input type="text"
                                                   name="banner[title][content]"
                                                   class="title__input"
                                                   id="title__input"
                                                   placeholder="Введіть текст заголовка..."
                                            >
                                        </div>
                                        <div class="select__block">
                                            <label for="select__item" class="select__label">
                                                <p>Виберіть розмір заголовка:</p>
                                            </label>
                                            <select class="select__item" name="banner[title][size]"
                                                    id="select__item">
                                                <option value="h2" selected>Великий</option>
                                                <option value="h3">Більше середнього</option>
                                                <option value="h4">Середній</option>
                                                <option value="h5">Менше середнього</option>
                                                <option value="h6">Малий</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="collapse__item invisible" data-collapse_item_id="text">
                                        <div class="textarea">
                                            <label for="body__textarea" class="body__label"><p>Опис</p></label>
                                            <textarea id="body__textarea"
                                                      class="body__textarea"
                                                      name="banner[text][content]"
                                                      placeholder="Введіть зміст банера..."></textarea>
                                        </div>
                                        <div class="segmented-control">
                                            <input type="radio" name="banner[align_text]" value="left"
                                                   id="header__left" checked/>
                                            <label for="header__left" class="segmented-control__1">
                                                <span class="material-symbols-outlined">format_align_left</span>
                                            </label>

                                            <input type="radio" name="banner[align_text]" value="center"
                                                   id="header__center"/>
                                            <label for="header__center" class="segmented-control__2">
                                                <span class="material-symbols-outlined">format_align_center</span>
                                            </label>

                                            <input type="radio" name="banner[align_text]" value="right"
                                                   id="header__right"/>
                                            <label for="header__right" class="segmented-control__3">
                                                <span class="material-symbols-outlined">format_align_right</span>
                                            </label>

                                            <input type="radio" name="banner[align_text]" value="justify"
                                                   id="header__justify"/>
                                            <label for="header__justify" class="segmented-control__4">
                                                <span class="material-symbols-outlined">format_align_justify</span>
                                            </label>

                                            <div class="segmented-control__color"></div>
                                        </div>

                                    </div>
                                    <div class="collapse__item invisible" data-collapse_item_id="button">
                                        <div class="form__button">
                                            <label for="button__input" class="button__label">
                                                <p>Кнопка переходу</p>
                                            </label>
                                            <input type="text"
                                                   class="button__input"
                                                   name="banner[button][name]"
                                                   id="button__input"
                                                   placeholder="Введіть назву кнопки..."
                                            >
                                        </div>
                                        <div class="form__link">
                                            <label for="link__input" class="link__label">
                                                <p>Посилання кнопки</p>
                                            </label>
                                            <input type="url"
                                                   class="link__input"
                                                   name="banner[button][link]"
                                                   id="link__input"
                                                   placeholder="Вставте чи введіть URL">
                                        </div>
                                    </div>
                                    <div class="collapse__item invisible" data-collapse_item_id="timer">
                                        <div class="form__timeout">
                                            <label for="timeout__input" class="timeout__label">
                                                <p>Таймер вспливання банера</p>
                                            </label>
                                            <input type="text"
                                                   class="timeout__input"
                                                   name="banner[timeout]"
                                                   id="timeout__input"
                                                   placeholder="Введіть, через скільки сек."
                                            >
                                        </div>
                                    </div>
                                    <div class="collapse__item invisible" data-collapse_item_id="animation">
                                        <div class="form_animation">
                                            <div class="animation_block animate__animated" data-animate_item_id="animate__bounce">
                                                <input type="radio" name="banner[animation]" value="animate__bounce"
                                                       id="animate__bounce" checked/>
                                                <label for="animate__bounce" class="animate__label">
                                                    <span class="material-symbols-outlined">3d_rotation</span>
                                                    <span>Bounce</span>
                                                </label>
                                            </div>
                                            <div class="animation_block animate__animated" data-animate_item_id="animate__flash">
                                                <input type="radio" name="banner[animation]" value="animate__flash"
                                                       id="animate__flash"/>
                                                <label for="animate__flash" class="animate__label">
                                                    <span class="material-symbols-outlined">flash_on</span>
                                                    <span>Flash</span>
                                                </label>
                                            </div>
                                            <div class="animation_block animate__animated" data-animate_item_id="animate__pulse">
                                                <input type="radio" name="banner[animation]" value="animate__pulse"
                                                       id="animate__pulse"/>
                                                <label for="animate__pulse" class="animate__label">
                                                    <span class="material-symbols-outlined">flare</span>
                                                    <span>Pulse</span>
                                                </label>
                                            </div>
                                            <div class="animation_block animate__animated" data-animate_item_id="animate__rubberBand">
                                                <input type="radio" name="banner[animation]" value="animate__rubberBand"
                                                       id="animate__rubberBand"/>
                                                <label for="animate__rubberBand" class="animate__label">
                                                    <span class="material-symbols-outlined">gesture</span>
                                                    <span>RubberBand</span>
                                                </label>
                                            </div>
                                            <div class="animation_block animate__animated" data-animate_item_id="animate__shakeX">
                                                <input type="radio" name="banner[animation]" value="animate__shakeX"
                                                       id="animate__shakeX"/>
                                                <label for="animate__shakeX" class="animate__label">
                                                    <span class="material-symbols-outlined">all_inclusive</span>
                                                    <span>ShakeX</span>
                                                </label>
                                            </div>
                                            <div class="animation_block animate__animated" data-animate_item_id="animate__shakeY">
                                                <input type="radio" name="banner[animation]" value="animate__shakeY"
                                                       id="animate__shakeY"/>
                                                <label for="animate__shakeY" class="animate__label">
                                                    <span class="material-symbols-outlined">all_inclusive</span>
                                                    <span>ShakeY</span>
                                                </label>
                                            </div>
                                            <div class="animation_block animate__animated" data-animate_item_id="animate__headShake">
                                                <input type="radio" name="banner[animation]" value="animate__headShake"
                                                       id="animate__headShake"/>
                                                <label for="animate__headShake" class="animate__label">
                                                    <span class="material-symbols-outlined">all_inclusive</span>
                                                    <span>HeadShake</span>
                                                </label>
                                            </div>
                                            <div class="animation_block animate__animated" data-animate_item_id="animate__swing">
                                                <input type="radio" name="banner[animation]" value="animate__swing"
                                                       id="animate__swing"/>
                                                <label for="animate__swing" class="animate__label">
                                                    <span class="material-symbols-outlined">all_inclusive</span>
                                                    <span>Swing</span>
                                                </label>
                                            </div>
                                            <div class="animation_block animate__animated" data-animate_item_id="animate__tada">
                                                <input type="radio" name="banner[animation]" value="animate__tada"
                                                       id="animate__tada"/>
                                                <label for="animate__tada" class="animate__label">
                                                    <span class="material-symbols-outlined">all_inclusive</span>
                                                    <span>Tada</span>
                                                </label>
                                            </div>
                                            <div class="animation_block animate__animated" data-animate_item_id="animate__wobble">
                                                <input type="radio" name="banner[animation]" value="animate__wobble"
                                                       id="animate__wobble"/>
                                                <label for="animate__wobble" class="animate__label">
                                                    <span class="material-symbols-outlined">all_inclusive</span>
                                                    <span>Wobble</span>
                                                </label>
                                            </div>
                                            <div class="animation_block animate__animated" data-animate_item_id="animate__jello">
                                                <input type="radio" name="banner[animation]" value="animate__jello"
                                                       id="animate__jello"/>
                                                <label for="animate__jello" class="animate__label">
                                                    <span class="material-symbols-outlined">all_inclusive</span>
                                                    <span>Jello</span>
                                                </label>
                                            </div>
                                            <div class="animation_block animate__animated" data-animate_item_id="animate__heartBeat">
                                                <input type="radio" name="banner[animation]" value="animate__heartBeat"
                                                       id="animate__heartBeat"/>
                                                <label for="animate__heartBeat" class="animate__label">
                                                    <span class="material-symbols-outlined">all_inclusive</span>
                                                    <span>HeartBeat</span>
                                                </label>
                                            </div>
                                            <div class="animation_block" data-animate_item_id="animate__none">
                                                <input type="radio" name="banner[animation]" value="none"
                                                       id="animate__none"/>
                                                <label for="animate__none" class="animate__label">
                                                    <span>Без&nbsp;анімації</span>
                                                </label>
                                            </div>

                                        </div>
                                    </div>
                                    <div class="collapse__item invisible" data-collapse_item_id="bg_color">
                                        <div class="collapse__item_title">
                                            <span class="material-symbols-outlined">color_lens</span>
                                            <span>Background color</span>
                                        </div>
                                        <div class="collapse__item_content">
                                            <div class="color_block">
                                                <input type="radio" name="banner[bg_color]" value="bg_color_1"
                                                       id="bg_color_1"/>
                                                <label for="bg_color_1" class="color__label">
                                                    <span class="color__label_color bg_color_1"></span>
                                                    <span>Color 1</span>
                                                </label>
                                            </div>
                                            <div class="color_block">
                                                <input type="radio" name="banner[bg_color]" value="bg_color_2"
                                                       id="bg_color_2"/>
                                                <label for="bg_color_2" class="color__label">
                                                    <span class="color__label_color bg_color_2"></span>
                                                    <span>Color 2</span>
                                                </label>
                                            </div>
                                            <div class="color_block">
                                                <input type="radio" name="banner[bg_color]" value="bg_color_3"
                                                       id="bg_color_3"/>
                                                <label for="bg_color_3" class="color__label">
                                                    <span class="color__label_color bg_color_3"></span>
                                                    <span>Color 3</span>
                                                </label>
                                            </div>
                                            <div class="color_block">
                                                <input type="radio" name="banner[bg_color]" value="bg_color_4"
                                                       id="bg_color_4"/>
                                                <label for="bg_color_4" class="color__label">
                                                    <span class="color__label_color bg_color_4"></span>
                                                    <span>Color 4</span>
                                                </label>
                                            </div>
                                            <div class="color_block">
                                                <input type="radio" name="banner[bg_color]" value="bg_color_5"
                                                       id="bg_color_5"/>
                                                <label for="bg_color_5" class="color__label">
                                                    <span class="color__label_color bg_color_5"></span>
                                                    <span>Color 5</span>
                                                </label>
                                            </div>
                                            <div class="color_block">
                                                <input type="radio" name="banner[bg_color]" value="bg_color_6"
                                                       id="bg_color_6"/>
                                                <label for="bg_color_6" class="color__label">
                                                    <span class="color__label_color bg_color_6"></span>
                                                    <span>Color 6</span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="collapse__item invisible" data-collapse_item_id="image">
                                        <div class="form__image">
                                            <label for="image__input" class="image__label">
                                                <p>Зображення</p>
                                            </label>
                                            <input type="file"
                                                   class="image__input"
                                                   name="banner[image]"
                                                   id="image__input"
                                                   accept="image/*"
                                            >
                                        </div>
                                </div>
                            </div>
                            </div>
                        </div>
                    </div>

                    <div class="accordion__block">
                        <div class="accordion__title animate__animated" data-accordion_item_id="header">
                            <div class="accordion__icon">
                                <span class="material-symbols-outlined">description</span>
                            </div>
                            <p>Header</p>
                        </div>
                        <div class="accordion__content invisible" data-accordion_item_id="header">
                            <div class="collapse">
                                <div class="collapse__panel">
                                    <div class="collapse__block animate__animated"
                                         data-collapse_item_id="header_title">
                                        <div class="collapse__icon">
                                            <span class="material-symbols-outlined">title</span>
                                        </div>
                                        <div class="collapse__title">
                                            Заголовок "Header"
                                        </div>
                                    </div>

                                    <div class="collapse__block animate__animated"
                                         data-collapse_item_id="header_text">
                                        <div class="collapse__icon">
                                            <span class="material-symbols-outlined">description</span>
                                        </div>
                                        <div class="collapse__title">
                                            Головний текст
                                        </div>
                                    </div>

                                </div>

                                <div class="collapse__content">
                                    <div class="collapse__item invisible" data-collapse_item_id="header_title">
                                        <div class="form__title">
                                            <label for="header_title" class="title__label">
                                                <p>Заголовок блока "Header"</p>
                                            </label>
                                            <input type="text"
                                                   name="banner[header][title][name]"
                                                   class="title__input"
                                                   id="header_title"
                                                   placeholder="Введіть текст заголовка..."
                                            >
                                        </div>
                                        <div class="select__block">
                                            <label for="header_title_size" class="select__label">
                                                <p>Виберіть розмір заголовка "Header":</p>
                                            </label>
                                            <select class="select__item" name="banner[header][title][size]"
                                                    id="header_title_size">
                                                <option value="h2" selected>Великий</option>
                                                <option value="h3">Більше середнього</option>
                                                <option value="h4">Середній</option>
                                                <option value="h5">Менше середнього</option>
                                                <option value="h6">Малий</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="collapse__item invisible" data-collapse_item_id="header_text">
                                        <div class="textarea">
                                            <label for="header_text" class="body__label"><p>Опис блока
                                                "Header"</p></label>
                                            <textarea id="header_text"
                                                      class="body__textarea"
                                                      name="banner[header][text]"
                                                      placeholder="Введіть зміст блока 'Header'..."></textarea>
                                        </div>

                                        <div class="segmented-control">
                                            <input type="radio" name="banner[header][align_text]" value="left"
                                                   id="header_text_left" checked/>
                                            <label for="header_text_left" class="segmented-control__1">
                                                <span class="material-symbols-outlined">format_align_left</span>
                                            </label>

                                            <input type="radio" name="banner[header][align_text]" value="center"
                                                   id="header_text_center"/>
                                            <label for="header_text_center" class="segmented-control__2">
                                                <span class="material-symbols-outlined">format_align_center</span>
                                            </label>

                                            <input type="radio" name="banner[header][align_text]" value="right"
                                                   id="header_text_right"/>
                                            <label for="header_text_right" class="segmented-control__3">
                                                <span class="material-symbols-outlined">format_align_right</span>
                                            </label>

                                            <input type="radio" name="banner[header][align_text]"
                                                   value="justify" id="header_text_justify"/>
                                            <label for="header_text_justify" class="segmented-control__4">
                                                <span class="material-symbols-outlined">format_align_justify</span>
                                            </label>

                                            <div class="segmented-control__color"></div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="accordion__block">
                        <div class="accordion__title animate__animated" data-accordion_item_id="label_3">
                            <div class="accordion__icon">
                                <span class="material-symbols-outlined">docs_add_on</span>
                            </div>
                            <p>Footer</p>
                        </div>
                        <div class="accordion__content invisible" data-accordion_item_id="label_3">
                            <p>Accordion content 3</p>
                        </div>
                    </div>

                    <div class="accordion__block">
                        <div class="accordion__title animate__animated"
                             data-accordion_item_id="banner_animation">
                            <div class="accordion__icon">
                                <span class="material-symbols-outlined">animation</span>
                            </div>
                            <p>Animation</p>
                        </div>
                        <div class="accordion__content invisible" data-accordion_item_id="banner_animation">


                        </div>
                    </div>

                    <div class="accordion__block">
                        <div class="accordion__title animate__animated" data-accordion_item_id="label_5">
                            <p>Accordion content 5</p>
                        </div>
                        <div class="accordion__content invisible" data-accordion_item_id="label_5">
                            <p>Accordion content 5</p>
                        </div>
                    </div>

                    <div class="submit__block">
                        <button type="submit" class="submit__button">
                            <p>Зберегти</p>
                        </button>
                    </div>

                </div>
            </div>
        </form>
    </div>

    <div class="iframe_container">
        <div style="position: fixed; width:100%; height: 100%">
            <iframe src="https://alerts.in.ua/" class="iframe_root"></iframe>
            <!--        <iframe src="index.html" class="iframe_popup"></iframe>-->
            <iframe src="/popup/index.html" class="iframe_popup"></iframe>
            <!-- <iframe srcdoc="<script src='https://artem.bobmv.art/popup.js'></script>" allow="fullscreen"></iframe>-->
        </div>
    </div>
</div>

<script>
    /* Відправка налаштувань з форми */
    let bannerForm = document.getElementById('banner_setting_form');

    bannerForm.onsubmit = (e) => {
        e.preventDefault()
        fetch('save_form.php', {method: 'post', body: new FormData(bannerForm)}).then((response) => {
            console.log(response)
            location.reload()
        })
    }

    /* Схлопування коллапсів */
    document.addEventListener('DOMContentLoaded', event => {
        document.querySelectorAll('.collapse__block').forEach(collapse__block => {
            collapse__block.addEventListener('click', event => {
                console.log('event: ' + event);
                let collapse_item_id = event.currentTarget.dataset.collapse_item_id;
                let collapse_content_item = document.querySelector('.collapse__item[data-collapse_item_id="' + collapse_item_id + '"]');
                collapse__block.classList.toggle('active');
                collapse__block.classList.toggle('animate__headShake');
                collapse_content_item.classList.toggle('invisible');
            })
        })

        /* Схлопування акордіонів */
        document.querySelectorAll('.accordion__title').forEach(accordion__title => {
            accordion__title.addEventListener('click', event => {
                let accordion_item_id = event.currentTarget.dataset.accordion_item_id;
                let accordion_content_item = document.querySelector('.accordion__content[data-accordion_item_id="' + accordion_item_id + '"]');
                accordion__title.classList.toggle('active');
                accordion__title.classList.toggle('animate__pulse');
                accordion_content_item.classList.toggle('invisible');
            })
        })

        /* Анімація при кліках на input */
        document.querySelectorAll('.animation_block').forEach(animation_block => {
            animation_block.addEventListener('click', event => {
                let animate_item_id = event.currentTarget.dataset.animate_item_id;
                console.log(animate_item_id);
                animation_block.classList.add(`${animate_item_id}`);
                animation_block.addEventListener('animationend', () => {
                    animation_block.classList.remove(`${animate_item_id}`);
                })
            })
        })
    });

</script>
</body>
</html>